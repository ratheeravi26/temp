# Databricks notebook: 90_admin_create_bronze_tables_if_missing
# MAGIC %run ./00_config_and_common

spark.sql(f"CREATE TABLE IF NOT EXISTS {BRONZE}.graph_groups_delta (id STRING, raw_json STRING, last_modified TIMESTAMP, delta_batch_id STRING, delta_source STRING, snapshot_filter_from TIMESTAMP, received_ts TIMESTAMP)")
spark.sql(f"CREATE TABLE IF NOT EXISTS {BRONZE}.graph_group_members_delta (group_id STRING, principal_id STRING, principal_type STRING, raw_json STRING, delta_batch_id STRING, delta_source STRING, snapshot_filter_from TIMESTAMP, received_ts TIMESTAMP)")
spark.sql(f"CREATE TABLE IF NOT EXISTS {BRONZE}.graph_group_owners_delta (group_id STRING, owner_id STRING, raw_json STRING, delta_batch_id STRING, delta_source STRING, snapshot_filter_from TIMESTAMP, received_ts TIMESTAMP)")
spark.sql(f"CREATE TABLE IF NOT EXISTS {BRONZE}.graph_users_delta (id STRING, raw_json STRING, user_principal_name STRING, mail STRING, account_enabled BOOLEAN, last_modified TIMESTAMP, delta_batch_id STRING, delta_source STRING, received_ts TIMESTAMP)")
